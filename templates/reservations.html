{% extends 'base.html' %}
{% block content %}
<div class="w3-container w3-padding-64">
  <h2>Manage Reservations</h2>
  
  <!-- Book Room Form -->
  <h3>Book a Room</h3>
  <form method="POST">
    <select name="guest_id" class="w3-select w3-border">
      {% for guest in guests %}
      <option value="{{ guest[0] }}">{{ guest[1] }}</option>
      {% endfor %}
    </select>
    <select name="book_room_id" class="w3-select w3-border">
      {% for room in rooms %}
      <option value="{{ room[0] }}">{{ room[1] }} - ${{ room[3] }} ({{ room[2] }})</option>
      {% endfor %}
    </select>
    <input type="date" name="check_in" class="w3-input w3-border" required>
    <input type="date" name="check_out" class="w3-input w3-border" required>
    <button type="submit" class="w3-button w3-teal w3-margin-top">Book Room</button>
  </form>

  

  <table class="w3-table w3-striped w3-bordered">
    <tr>
      <th>Room ID</th>
      <th>Room Name</th>
      <th>State</th>
      <th>Price</th>
      <td>Action</td>
    </tr>
    {% for r in rooms %}
    <tr>
      <td>{{r[0]}}</td>
      <td>{{r[1]}}</td>
      <td>{{r[2]}}</td>
      <td>{{r[3]}}</td>
      <td>
        <form method="POST" style="display:inline">
          <input type="hidden" name="delete_room_id" value="{{ r[0] }}">
          <button type="submit" class="w3-button w3-red w3-small">Delete</button>
        </form>
      </td>
    </tr>

  {% endfor %}
  </table>
</div>
{% endblock %}